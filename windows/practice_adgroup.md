### Создание домена Active Directory
1. Подключиться к серверу с помощью клиента RDP
2. Установить на сервере роль **Active Directory Domain Services**
3. Запустить мастер продвижения сервере до уровня контроллера домена
   * Создать новый лес `corp.example.com`
   * Придумать новый пароль для восстановления данных
4. Перезагрузить сервер и вновь залогиниться на нем
### Подключение клиентского компьютера к домену AD
1. Открыть консоль DNS, открыть свойства сервера DNS, открыть вкладку forwarders и добавить DNS-сервера для пересылки запросов (если этого не сделать, то клиентские компьютеры после переназначения DNS-сервера в п.4 не смогут получить доступ в Интернет):
   * 1.1.1.1
   * 8.8.8.8
   * 8.8.4.4
   * 9.9.9.9
2. Определить локальный IP-адрес сервера (`ipconfig /all`)
3. Подключиться к клиентскому компьютеру с помощью клиента RDP
4. Заменить DNS-сервер в настройках сетевого подключения на IP-адрес сервера
5. Открыть настройки системы, найти окно изменения имени компьютера и заменить рабочую группу на домен corp.example.com
6. Перезагрузить клиентский компьютер
7. На сервере открыть консоль **Active Directory Users and Computers** и убедиться что клиентский компьютер вошел в домен
### Вход на клиентском компьютере с помощью доменной учетной записи
1. На клиентском компьютере открыть консоль **Computer Management**, перейти в раздел **Local Users and Groups, Groups**
2. В группу **Remote Desktop Users** добавить группу **Domain Users** (это нужно чтобы можно было выполнить п.4)
3. На сервере с помощью консоли Active Directory Users and Computers:
   * создать новые группы безопасности (глобальные) `RoleManager` и `RoleDeveloper`
   * создать новые группы безопасности (локальные в домене) `ShareRO` и `ShareFC`
   * добавить группу `RoleManager` в группу `ShareRO`
   * добавить группу `RoleDeveloper` в группу `ShareFC`
   * создать двух новых пользователей и добавить одного в группу `RoleManager`, а второго в группу `RoleDeveloper`
4. Отключиться от клиентского компьютера и зайти на него с помощью доменной учетной записи.
5. **Открыть командную строку выполнить команды hostname и whoami. Сделать скриншот так чтобы было видно заголовок RDP-клиента и командной строки с результатами команд.**
### Настройка групповых политик
1. На сервере откройте консоль Group Policy Management
   * Откройте лес `corp.example.com`
   * Откройте домен `corp.example.com`
2. Создайте в домене corp.example.com политику Disable browser
   * В контекстном меню политики выберите Edit
   * Откройте параметр:![Альтернативный текст](/images/adgroup2.png)
   * Добавьте значение `msedge.exe`.
   * Закройте редактор.
   * Выделите групповую политику и в разделе **Security Filtering** добавьте группу пользователей RoleManager.
   * Выделите домен `corp.example.com` в на вкладке **Linked Group Policy Object (GPO)** переместите созданную групповую политику на верхнюю строчку.
   * **Проверьте работу групповой политики, сделайте скриншот возникающей ошибки**
3. Создайте на сервере каталог **Share** и настройте на нем сетевой доступ:
   * на вкладке **Sharing** нажать кнопку **Advanced Sharing**, включить галочку **Share this folder**, нажать кнопку **Permissions** и разрешить **Full Control** для всех (Everyone)
   * на вкладке **Security** нажать кнопку **Advanced**, отключить наследование (преобразовать существующие права в явные права), удалить права группы **Domain Users**, добавить права на чтение для группы **ShareRO**, добавить права на полный доступ для группы **ShareFC**
   * **сделайте скриншот диалога**
4. Создайте в домене `corp.example.com` политику **Startup script**
   * Откройте блокнот и в новом файле добавьте команду: `net use s: \\<имя сервера>\share`
   * Сохраните под именем `startup.bat` (убедитесь, в том что расширение файла - bat)
   * В контекстном меню политики выберите **Edit**
   * Откройте параметр:![Альтернативный текст](/images/adgroup4.png)
   * Добавляем в качестве скрипта `startup.bat `
   * Выделите домен `corp.example.com` в на вкладке **Linked Group Policy Object (GPO)** переместите созданную групповую политику выше чем **Default Domain Policy**.
   * Проверьте работу групповой политики
