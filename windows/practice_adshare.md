# Общая папка
### Создание домена Active Directory
1. Подключиться к серверу с помощью клиента RDP
2. Установить на сервере роль **Active Directory Domain Services**
3. Запустить мастер продвижения сервере до уровня контроллера домена.
   * Создать новый лес `corp.example.com`
   * Придумать новый пароль на случай восстановления данных.
4. Перезагрузить сервер и вновь залогиниться на нем.
### Подключение клиентского компьютера к домену AD
5. Настроить в свойствах DNS-сервера пересылку (forwarding) запросов к серверам:
   * 8.8.8.8
   * 1.1.1.1
   * 9.9.9.9
   * 8.8.4.4
6. **Сделать скриншот вкладки Forwarding из свойств DNS-сервера**
7. Определить локальный IP-адрес сервера (`ipconfig /all`) и выписать его.
8. Настроить на клиентском компьютере в качестве DNS-сервера - IP-адрес сервера
9. Войти в настройки системы на клиентском компьютере. Найти окно изменения имени компьютера и изменить рабочую группу на домен `corp.example.com`
   * Ввести пароль администратора домена.
   * Перезагрузить клиентский компьютер.
   * На сервере открыть консоль **Active Directory Users and Computers** и убедиться что клиентский компьютер вошел в домен.
10. **Сделать скриншот консоли Active Directory Users and Computers с добавленным клиентским компьютером**
### Вход на клиентском компьютере с помощью доменной учетной записи
11. На сервере с помощью консоли Active Directory Users and Computers создать двух новых  пользователей
12. На клиентском компьютере открыть консоль Computer Management, перейти в раздел Local Users and Groups, Groups и добавить созданных доменных пользователей к группе Administrators.
13. В группу **Remote Desktop Users** добавить группу **Domain Users**, ввести пароль администратора домена.
14. Отключиться от клиентского компьютера и зайти на него с помощью доменной учетной записи.
15. **На клиентском компьютере откройте командную строку и выполните команды hostname и whoami. Сделайте скриншот так чтобы были видны результаты команды и заголовок окна клиента RDP.**
### Настройка доступа к общей папке
https://medium.com/tech-jobs-academy/igdla-and-you-a-fledgling-s-guide-to-nesting-e09b748e3a60

Локальная в домене группа безопасности — используется для управления разрешениями доступа к ресурсам (файлам, папкам и другим типам ресурсам) только того домена, где она была создана. Локальную группу нельзя использовать в других доменах (однако в локальную группу могут входить пользователи другого домена). Локальная группа может входить в другую локальную группу, но не может входить в глобальную.

Глобальная группа безопасности – может использоваться для предоставления доступа к ресурсам другого домена. В эту группу можно добавить только учетные записи из того же домена, в котором создана группа. Глобальная группа может входить в другие глобальные и локальные группы.

Универсальная группа безопасности — рекомендуется использовать в лесах из множества доменов. С помощью нее можно определять роли и управлять ресурсами, которые распределены на нескольких доменах. В том случае, если в вашей сети имеется много филиалов, связанных медленными WAN каналами, желательно использовать универсальные группы только для редко изменяющихся групп. Т.к. изменение универсальной группы вызывает необходимость репликации глобального каталога во всем предприятии.

16. На сервере с помощью консоли **Active Directory Users and Computers** создать две группы безопасности (глобальные): `RoleDeveloper`, `RoleManager`
17. Добавить первого пользователя AD в группу **Developer**.
18. Добавить второго пользователя AD в группу **Manager**.
19. На сервере с помощью консоли **Active Directory Users and Computers** создать две группы безопасности (локальные в домене): `ShareFullControl`, `ShareReadOnly`.
20. На сервере на диске C: создать новый каталог `Share`.
21. Открыть диалог свойств для каталога **Share**
    * На вкладке **Sharing** войдите в **Advanced Sharing, Permissions** и разрешите полный доступ для всех (Everyone)
    * На вкладке **Security** войдите в **Advanced** и отключите наследование прав доступа (Disable inheritance) с конвертацией унаследованных прав в явные права на объект (Convert inherited permissions into explicit permissions on this object).
    * Уберите доступ аутентифицированных пользователей (Authenticated users) и пользователей домена (Users)
    * Добавьте права на чтение для группы **ShareReadOnly**.
    * Добавьте права на полный доступ для группы **ShareFullControl**.
22. В группу **ShareFullControl** добавляем группу **Developer**, в группу **ShareReadOnly** добавляем группу **Manager**.
23. Проверьте работу прав доступа с клиентского компьютера.
24. **Сделать скриншоты:**
    * **Диалога Advanced на вкладке Security в свойствах общей папки Share**
    * **Членов групп ShareFullControl и ShareReadOnly**
    * **Членов групп RoleDeveloper и RoleManager**
