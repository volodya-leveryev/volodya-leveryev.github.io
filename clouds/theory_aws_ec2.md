---
layout: default
title: Amazon EC2
---
# Amazon EC2 (Elastic Compute Cloud)

При создании инстанса **Amazon EC2 (Elastic Compute Cloud)** необходимо настроить несколько ключевых параметров:

### **1. Выбор AMI (Amazon Machine Image)**
- AMI — это образ операционной системы с предустановленными настройками.
- Доступны:
  - **Официальные AMI** (например, Amazon Linux, Ubuntu, Windows Server).
  - **Кастомные AMI**, созданные пользователем.
  - **Marketplace AMI**, содержащие предустановленный софт.

### **2. Выбор типа инстанса**
- Определяет количество CPU, оперативной памяти и пропускную способность сети.
- Основные семейства:
  - **t (General Purpose)** – сбалансированные, например t3.micro.
  - **m (General Purpose)** – универсальные (m5, m6g).
  - **c (Compute Optimized)** – для вычислений (c5, c6a).
  - **r (Memory Optimized)** – для приложений, требующих много RAM (r5, r6g).
  - **g, p, inf (Accelerated Computing)** – для ML, AI и графики.

### **3. Настройка сети (VPC и Subnet)**
- Выбор **VPC** и **подсети** для размещения инстанса.
- Опциональное назначение **публичного IP**.

### **4. Настройка хранилища (Storage)**
- Выбор **типа диска**:
  - **EBS (Elastic Block Store)** – постоянное хранилище.
  - **Instance Store** – временное, теряется при остановке.
- Размер и тип EBS (gp3, io1, st1 и т. д.).

**Security Groups** – правила входящего и исходящего трафика.

**Key Pair** – SSH-ключ для безопасного доступа.

**User Data** – скрипты для автоматической настройки при запуске.

**Amazon Elastic File System (EFS)** — это масштабируемая, управляемая файловая система для EC2-инстансов и других AWS-сервисов.

**Placement group** — Placement Group в настройках EC2 определяет, как инстансы будут размещены внутри AWS-инфраструктуры. Это влияет на производительность, задержки и отказоустойчивость.

Типы Placement Group:
- *Cluster (Кластеризация)* — Инстансы размещаются максимально близко друг к другу в одном Availability Zone (AZ). Подходит для задач, требующих низкой сетевой задержки и высокой пропускной способности (HPC, Big Data, AI/ML). Использует Elastic Network Adapter (ENA) и EFA (Elastic Fabric Adapter) для высокой скорости сети
- *Spread (Распределённое размещение)* — Инстансы размещаются на разных физических серверах. Максимум 7 инстансов на AZ. Подходит для критически важных сервисов, где отказ одного хоста не должен затронуть все инстансы.
- *Partition (Партиционирование)* — Инстансы распределяются по партициям (группам серверов), чтобы снизить риск одновременного выхода из строя. Подходит для больших распределённых систем, таких как HDFS, Cassandra, Kafka. AWS гарантирует, что каждая партиция изолирована на отдельной группе физических серверов.

**Tenancy** – выбор типа размещения инстанса на физическом сервере:
- *Shared* (разделённый хост) — обычное размещение.
- *Dedicated Instances* — Размещаются на физическом сервере, который не используется другими клиентами AWS. Однако этот сервер может быть разделён между несколькими вашими инстансами, то есть, клиент не контролирует физический сервер. Подходит для случаев, когда требуется изоляция, но не критично контролировать серверное окружение. Оплата идёт за каждый запущенный инстанс, как и для обычных EC2-инстансов.
- *Dedicated Host* — клиент получает полный физический сервер в своё распоряжение. Позволяет контролировать привязку инстансов к конкретному хосту (например, для лицензирования ПО, требующего привязки к аппаратному обеспечению). Подходит для специфических требований к соответствию (compliance), таких как [GDPR](https://en.wikipedia.org/wiki/General_Data_Protection_Regulation), [HIPAA](https://en.wikipedia.org/wiki/Health_Insurance_Portability_and_Accountability_Act), [PCI DSS](https://en.wikipedia.org/wiki/Payment_Card_Industry_Data_Security_Standard). Оплата идёт за весь хост, независимо от количества запущенных инстансов.

**AWS Nitro Enclaves** — это технология, позволяющая создавать изолированные вычислительные среды внутри Amazon EC2 для обработки конфиденциальных данных. Они используют Nitro Hypervisor и работают отдельно от основного инстанса, обеспечивая повышенную безопасность.

