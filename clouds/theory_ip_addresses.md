# IP-адреса

Публичные (белые) и приватные (серые) IP-адреса — это два типа IP-адресов, используемых в компьютерных сетях для организации взаимодействия между устройствами.

**Публичные (белые) IP-адреса** — Это уникальные IP-адреса, доступные в глобальной сети Интернет. Они выдаются интернет-провайдерами (ISP, Internet Service Provider) и регистрируются в базах данных регионального интернет-регистратора IANA (RIPE, ARIN и др.). Публичные IP-адреса позволяют устройствам быть напрямую доступными из любой точки мира. Публичные IP-адреса используются для веб-сайтов, серверов, облачных сервисов и других ресурсов, требующих доступа из Интернета.

Примеры белых IP-адресов: 8.8.8.8 (public Google DNS), 142.250.74.14 (google.com).

**Приватные (серые) IP-адреса** используются внутри локальных сетей (LAN) и не маршрутизируются в глобальном Интернете. Они как правило используются в корпоративных сетях, домашних роутерах и облачных инфраструктурах. Приватные IP-адреса требуют NAT (Network Address Translation) для выхода в Интернет через публичный IP. Приватные IP-адреса выдаются администратором локальной сети. Как правило это происходит автоматически с помощью DHCP-сервера.

Например: 192.168.1.1 (домашний роутер), 10.0.0.5 (сервер в частной сети).

Приватные (серые) IP-адреса определены в стандарте RFC 1918 и включают три диапазона:
- 10.0.0.0 – 10.255.255.255
- 172.16.0.0 – 172.31.255.255
- 192.168.0.0 – 192.168.255.255

**IANA (Internet Assigned Numbers Authority)** — это организация, отвечающая за глобальное управление интернет-идентификаторами, включая:
- IP-адреса (IPv4 и IPv6)
- Доменные зоны верхнего уровня (TLD)
- параметры работы сетевых протоколов (например номера TCP-портов)

IANA является частью ICANN (Internet Corporation for Assigned Names and Numbers) и выполняет распределение IP-адресов между локальными регистраторами (RIR, Regional Internet Registries).

**Локальный (региональный) интернет-регистратор (RIR, Regional Internet Registry)** — это организация, которая управляет распределением IP-адресов и автономных систем (ASN) в определенном регионе мира.

RIR получают пул IP-адресов от IANA и распределяют их среди интернет-провайдеров (ISP), дата-центров и других организаций.

На данный момент существует 5 официальных RIR, каждый из которых отвечает за определённый географический регион:
- ARIN (American Registry for Internet Numbers) — Северная Америка (США, Канада, часть Карибского бассейна)
- RIPE NCC (Réseaux IP Européens Network Coordination Centre) — Европа, Ближний Восток, Центральная Азия (ЕС, Россия, Турция и др.)
- APNIC (Asia-Pacific Network Information Centre) — Азия и Тихоокеанский регион (Китай, Япония, Индия, Австралия и др.)
- LACNIC (Latin America and Caribbean Network Information Centre) — Латинская Америка и часть Карибов (Бразилия, Аргентина, Мексика и др.)
- AFRINIC (African Network Information Centre) — Африка (Все страны Африки)

Каждый RIR, в свою очередь, может передавать IP-адреса **национальным интернет-регистраторам (NIR)** или напрямую интернет-провайдерам и организациям.

**IPv4 (Internet Protocol version 4)** и **IPv6 (Internet Protocol version 6)** — это сетевые протоколы, используемые для адресации и маршрутизации данных в Интернете. IPv6 был разработан как замена для IPv4 из-за исчерпания адресного пространства в нем.

**IPv4 (Протокол Интернета версии 4)** — это самый распространенный сетевой протокол, используемый в Интернете. Основные характеристики:
- Длина адреса: 32 бита (4 октета)
- Формат записи: Десятичный, разделенный точками (например, 192.168.1.1)
- Максимальное количество адресов: ~4,3 миллиарда (2^32)
- Поддержка NAT (Network Address Translation): Широко используется для продления жизни IPv4
- Широковещательная (broadcast) передача: Используется для отправки пакетов всем узлам в локальной сети
- Безопасность: Поддержка безопасности ограничена и требует использования дополнительных протоколов (например, IPSec)

Проблемы IPv4:
- Ограниченное количество адресов — адресное пространство практически исчерпано
- Неэффективная маршрутизация — большое количество фрагментированных подсетей
- Зависимость от NAT — используется для обхода нехватки IP-адресов, но усложняет работу сетей

**IPv6 (Протокол Интернета версии 6)** — это усовершенствованный протокол, разработанный для решения проблем IPv4, в первую очередь, недостатка адресов. Основные характеристики:
- Длина адреса: 128 бит (16 октетов)
- Формат записи: Шестнадцатеричный, разделенный двоеточиями (например, - 2001:0db8:85a3:0000:0000:8a2e:0370:7334)
- Максимальное количество адресов: ~340 ундециллионов (2^128, значительно больше IPv4)
- Поддержка автоконфигурации: Адреса могут назначаться автоматически без DHCP (SLAAC)
- Нет необходимости в NAT: Огромный пул адресов позволяет каждому устройству иметь уникальный IP
- Улучшенная маршрутизация: Используется агрегация (Hierarchical Addressing) для сокращения таблиц маршрутизации
- Встроенная безопасность: IPSec интегрирован в стандарт IPv6
- Нет поддержки широковещательной передачи: Вместо этого используется многовещательная (multicast) и одноадресная (unicast) передача
- Поддержка нового типа адресации: [Anycast](https://www.networkacademy.io/ccna/ipv6/stateless-address-autoconfiguration-slaac)

**Переход с IPv4 на IPv6**
Так как IPv4 и IPv6 несовместимы напрямую, существуют механизмы для их совместной работы:
- **Dual Stack** — одновременное использование IPv4 и IPv6 на одном устройстве
- **Tunneling (например, 6to4, Teredo, ISATAP)** — передача IPv6-пакетов через IPv4-сети
- **NAT64/DNS64** — преобразование IPv6-запросов в IPv4

**Дополнительные ссылки:**
- IPV6 — это весело: [часть 1](http://habrahabr.ru/post/253803/), [часть 2](https://habr.com/ru/articles/254293/)
- [Конфигурирование DHCPv6 и SLAAC в IPv6-сетях](https://habr.com/ru/companies/otus/articles/843186/)
