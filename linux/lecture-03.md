---
layout: default
title: Интерфейс командной строки
---

# Интерфейс командной строки

## Понятие оболочки и терминала

Интерфейс командной строки является основным при работе с серверными операционными системами и сетевым оборудованием. Интерфейс командной строки реализует специальный тип утилит — оболочки (shell, шелл). Оболочкой по-умолчанию в Linux считается `bash`. В прошлом конкуренцию `bash` составляли оболочки `sh`, `csh`, `ksh` и `tcsh`. Однако современными альтернативами `bash` следует считать `zsh` и `fish`.

Интерфейс командной строки не требует значительных системных ресурсов, а также предоставляет простые средства удаленного доступа при помощи протоколов Rlogin, Telnet и SSH.

Компьютерный терминал — это устройство используемое для взаимодействия пользователя с компьютерной системой. В прошлом, когда компьютеры были большой редкостью, в ходу были компьютерные системы к которым подключались сразу несколько текстовых терминалов. Используя эти терминалы одновременно несколько человек могли работать с интерфейсом командной строки.

Эмулятор терминала — это программа, позволяющая имитировать поведение текстового терминала предоставляя доступ к интерфейсу командной строки на данном или удаленном компьютере.

## Базовые команды

Для перемещения по файловой системе используйте команды:

- `pwd` — показать текущий каталог (path to working directory).
- `cd` — сменить текущий каталог (change directory).
- `ls` — перечень файлов в каталоге (list files).

Последняя команда часто дается с различными ключами. Наиболее часто употребляются формы:

- `ls -a` — показать все файлы, включая скрытые.
- `ls -l` — показать файлы в виде таблицы.
- `ls -la` — показать все файлы в виде таблицы.
- `ls -lah` — то же, но использовать сокращенные единицы размера файлов.

При перемещении по файловой системе важно понимать, что все файлы и каталоги в Linux организованы в виде единого дерева. При этом используется несколько важных сокращений: 

- если путь начинается с символа `/` (прямой слеш) — то это абсолютный путь, указывающий полный путь к файлу или каталогу, начиная от корневого каталога. Важно помнить, что в отличие от Windows разделителем элементов в пути является символ `/`, а не `\` (обратный слеш).
- если путь начинается с символа `.` (точка) — то это относительный путь, указывающий путь к файлу или каталогу, начиная от текущего каталога.
- если путь начинается с символа `..` (двойная точка) — то это также относительный путь, указывающий путь к файлу или каталогу, начиная от родительского каталога.
- если путь начинается с символа `~` (тильда) — то это также относительный путь, указывающий путь к файлу или каталогу, начиная от домашнего каталога пользователя. 

# Клавиатурные комбинации

`bash` поддерживает большое количество клавиатурных комбинаций, ускоряющих работу с ним:

- стрелки вверх и вниз (`Ctrl+P`, `Ctrl+N`) — переход по истории команд.
- стрелки вправо и влево (`Ctrl+F`, `Ctrl+B`) — перемещение курсора в набранной команде.
- `Ctrl+Left` (`Alt+F`) / `Ctrl+Right` (`Alt+B`) — перемещение курсора в набранной команде по словам.
- `Home` (`Ctrl+A`) / `End` (`Ctrl+E`) — перемещение курсора в начало и конец строки.
- `Tab` — автодополнение.
- `Backspace`, `Ctrl+H` — удаление предыдущего символа.
- `Delete`, `Ctrl+D` — удаление текущего символа.
- `Ctrl+U` / `Ctrl+K` — удаление символов от курсора до начала строки / до конца строки.
- `Alt+D` / `Alt+Backspace` — удаление текущего / предыдущего слова.
- `Ctrl+Y` — вставка удаленного слова.
- `Ctrl+T`, `Alt+L`, `Alt+U` — 
- `Ctrl+R` — поиск команды в истории.
- `Ctrl+O`
- `history` — просмотр истории команд.
- `clear`, `Ctrl+L` — очистка окна терминала.
- `!!` — макрос вставляющий предыдущую команду.

Для работы с командной строкой используются эмуляторы терминала в которых для удобства поддерживаются операции копирования и вставки. Следующие приемы работают в большинстве из них.

- Выделение мышкой — копирование выделенного текста в буфер терминала.
- Щелчок средней кнопкой мышки — вставка из буфера терминала.
- `Ctrl+Insert`, `Shift+Insert`, `Shift+Delete` — копирование, вставка и вырезание в системный буфер обмена.
- `Ctrl+Shift+C`, `Ctrl+Shift+V`, `Ctrl+Shift+Z` — копирование, вставка и вырезание в системный буфер обмена.

## Файловые операции

- `mkdir`
- `touch`
- `cp`
- `mv`
- `rm`

Внутренние и внешние команды (`help`, `type`, `which`, `whereis`)

Просмотр и редактирование текстовых файлов

- `less` — утилита просмотра текстовых файлов
- `nano` — утилита редактирования текстовых файлов
- `vi` / `vim` — профессиональная утилита редактирования текстовых файлов

## Работа с документацией

Документация (`--help`, `whatis`, `man`, `apropos`, `info`, `/usr/share/doc`)

## Скрипты командной строки

Скрипты (сценарии) оболочки (язык, стартовые скрипты)

## Переменные окружения

Переменные окружения (`echo`, `export`)
Переменная `PATH`

## Потоки ввода-вывода

Потоки ввода-вывода (`cat`, `/dev/null`)
`stdout+stderr >`
`stdout 1>`
`stderr 2>`
`stdin <`
Конвейеры `|`

## Утилиты для работы с конвейерами

`grep` - фильтрация
`sort` - сортировка
`uniq` - убрать повторы
`wc` - подсчет слов или строк
`head` - показ только n первых строк
`tail` - показ только n последних строк
`tee` - пропускает сквозь себя поток и копирует его в файл
`cut` — вырезание определенной подстроки

## Подстановки

метасимволы (`?`, `*`, `{}`, `[]`)

## Арифметические выражения

результат команды (uname)

Статус возврата и выполнение нескольких команд (`;`, `&&`, `||`)

## Экранирование специальных символов

Экранирование (`""`, `''`, `\`)

## Алиасы и горячие клавиши

Алиасы и собственные хоткеи (`alias`, `bind`, `Ctrl+V`)
